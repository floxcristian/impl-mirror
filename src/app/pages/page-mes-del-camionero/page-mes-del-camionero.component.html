<div class="container">
  <img
    src="../../../assets/images/concursos/mesDelCamionero/fondo/Web-1920x1080-background.jpg"
    class="bg"
  />
  <div class="row" style="margin-top: 20px">
    <div class="col-sm-6">
      <div class="d-flex justify-content-center">
        <img
          src="../../../assets/images/concursos/mesDelCamionero/textos/web-1024-text.png"
          class="img-fluid"
        />
      </div>
    </div>
    <div class="col-sm-6 form" style="color: white">
      <form [formGroup]="formulario">
        <div class="mb-3">
          <label for="rut">Rut <small>(sin puntos y con guión)</small></label>
          <input
            type="text"
            formControlName="rut"
            class="form-control form-control-sm"
            id="rut"
            [(ngModel)]="datos.rut"
            autocomplete="off"
          />
          <div
            class="invalid-feedback"
            *ngIf="
              (formulario.get('rut')?.touched ||
                formulario.get('rut')?.dirty) &&
              formulario.get('rut')?.hasError('rutMalo')
            "
          >
            Rut no válido
          </div>
        </div>
        <div class="mb-3">
          <label for="nombre">Nombre</label>
          <input
            type="text"
            formControlName="nombre"
            class="form-control form-control-sm"
            id="nombre"
            [(ngModel)]="datos.nombre"
            autocomplete="off"
          />
        </div>
        <div class="mb-3">
          <label for="email">Correo Electrónico</label>
          <input
            type="email"
            formControlName="email"
            class="form-control form-control-sm"
            id="email"
            [(ngModel)]="datos.email"
            autocomplete="off"
          />
          <div
            class="invalid-feedback"
            *ngIf="
              (formulario.get('email')?.touched ||
                formulario.get('email')?.dirty) &&
              formulario.get('email')?.invalid
            "
          >
            Email no es válido
          </div>
        </div>
        <label for="celular">Celular</label>
        <div class="input-group input-group-sm mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="codigo">+56 9</span>
          </div>
          <input
            type="number"
            formControlName="celular"
            class="form-control form-control-sm"
            [(ngModel)]="datos.celular"
            style="border-radius: 0px 10px 10px 0px !important"
            id="celular"
            aria-describedby="codigo"
            aria-label="celular"
            autocomplete="off"
          />
          <div
            class="invalid-feedback"
            style="bottom: -19px"
            *ngIf="
              (formulario.get('celular')?.touched ||
                formulario.get('celular')?.dirty) &&
              formulario.get('celular')?.invalid
            "
          >
            Número no válido
          </div>
        </div>
        <div class="mb-3">
          <label for="historia">Cuentanos tu implecuento</label>
          <button class="btn btn-round mic" type="button" (click)="openMic()">
            <i class="fa-solid fa-microphone" style="color: white"></i>
          </button>
          <textarea
            type="text"
            formControlName="historia"
            placeholder="Escribe tu historia o haz clic en el micrófono y relátala"
            class="form-control form-control-sm"
            id="historia"
            [(ngModel)]="datos.historia"
            rows="10"
          ></textarea>
        </div>

        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            formControlName="aceptar"
            id="aceptar"
          />
          <label class="form-check-label" for="aceptar">
            <strong>Aceptar términos y condiciones</strong>
          </label>
          <div align="justify" *ngIf="formulario.controls['aceptar'].value">
            *Al enviar acepto los términos y condiciones del concurso y que mi
            historia sea publicada en las redes sociales de
            <strong>@Implementosrepuestos.</strong>
          </div>
          <div
            align="justify"
            style="color: yellow"
            *ngIf="!formulario.controls['aceptar'].value"
          >
            *Al enviar acepto los términos y condiciones del concurso y que mi
            historia sea publicada en las redes sociales de
            <strong>@Implementosrepuestos.</strong>
          </div>
        </div>

        <div class="d-flex justify-content-center">
          <button
            class="btn btn-sm btn-secondary btn-custom mt-2"
            [ngClass]="{ 'btn-loading': cargando }"
            (click)="enviar()"
            [class.disabled]="
              formulario.invalid || !formulario.controls['aceptar'].value
            "
            [disabled]="
              formulario.invalid || !formulario.controls['aceptar'].value
            "
          >
            ENVIAR
          </button>
        </div>
      </form>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12 d-flex justify-content-implementos">
      <img
        src="../../../assets/images/concursos/mesDelCamionero/camioneros/Web-modelos-mas-premios.png"
        class="img-fluid"
      />
    </div>
  </div>
</div>
