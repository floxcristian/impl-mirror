<div class="cargandoCent text-center" *ngIf="cargando">
  <i
    class="fak fa-implementos fa-bounce"
    style="font-size: 48px; color: #0063b9"
  ></i>
  <div
    class="fa-beat-fade"
    style="
      --fa-beat-fade-opacity: 0.67;
      --fa-beat-fade-scale: 1.075;
      color: #0063b9;
    "
  >
    Cargando productos...
  </div>
</div>

<!-- Start::navbar slideshow (lg+) -->
<div *ngIf="!cargando && tipo_producto" class="d-none d-lg-block">
  <ul ngbNav #nav="ngbNav" class="nav-tabs">
    <li ngbNavItem *ngFor="let item of tipo_producto; let i = index">
      <button style="font-size: 30px" ngbNavLink>{{ item.title }}</button>
      <ng-template ngbNavContent>
        <div class="row" style="margin-top: 20px">
          <div class="col-sm-6 d-flex">
            <a [href]="item.url">
              <div class="container-image" *ngIf="item.image != undefined">
                <div
                  class="overlay d-flex flex-column justify-content-center align-items-center"
                >
                  <p align="center" style="margin-bottom: -10px">
                    <span> Ver más </span>
                  </p>

                  <p align="center">
                    <span
                      ><i
                        class="fa-solid fa-hand-back-point-up"
                        style="color: white; font-size: 20px"
                      ></i
                    ></span>
                  </p>
                </div>

                <img
                  [src]="item.image"
                  class="img-fluid-product lazyload"
                  alt="Ver más"
                />
              </div>
            </a>
            <div class="container-image" *ngIf="item.image === undefined">
              <div
                class="overlay d-flex justify-content-center align-items-center"
              >
                <a [href]="item.url"> Ver más </a>
              </div>
              <a [href]="item.url">
                <img
                  src="../../../../../assets/img/no-image-ficha.jpg"
                  alt="no imgagen"
                  class="img-fluid-product"
              /></a>
            </div>
          </div>
          <!-- cambio de pantalla-->

          <div class="col-sm-6 d-flex justify-content-center">
            <div class="row">
              <div
                class="col-6-producto d-flex"
                style="padding-left: 5px; padding-right: 5px"
                *ngFor="
                  let product of item.articles | slice : 0 : 4;
                  let i = index
                "
              >
                <div
                  class="card-body-producto"
                  [ngStyle]="{ 'margin-bottom': i < 2 ? '30px' : '0px' }"
                  data-layout="grid-5-full"
                  data-with-features="false"
                >
                  <app-product-card-b2c-cms
                    [product]="product"
                    [origen]="[ruta, '', product.name.trim(), '']"
                    [home]="true"
                    [layout]="layout"
                    [cartClass]="true"
                    (precioEscalaEvent)="get_precioEscala($event)"
                  ></app-product-card-b2c-cms>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </li>
  </ul>
  <div [ngbNavOutlet]="nav"></div>
</div>
<!-- End::navbar slideshow (lg+) -->

<!-- Start::navbar slideshow (xs, sm y md) -->
<div *ngIf="tipo_producto" class="d-block d-lg-none">
  <div *ngIf="refresh" class="w-100" style="min-height: 50px"></div>
  <div
    *ngIf="!refresh"
    class="products-view__list products-list"
    data-layout="grid-5-full"
    data-with-features="false"
  >
    <owl-carousel-o
      class="carouselTitulo"
      [options]="carouselOptions2"
      appOwlPreventClick
      (translated)="getData2($event)"
    >
      <ng-container
        *ngFor="let item of tipo_producto; let i = index"
        class="products-list__item"
      >
        <ng-template carouselSlide [id]="item.title">
          <div
            [class.text-truncate]="item.title.length > 15"
            [class.select_active]="index_seleccionado == i"
            [class.select_inactive]="index_seleccionado != i"
          >
            {{ item.title }}
          </div>
        </ng-template>
      </ng-container>
    </owl-carousel-o>
  </div>
</div>
<!-- End::navbar slideshow (xs, sm y md) -->

<!-- Start::imagen portada slideshow (xs, sm y md) -->
<div *ngIf="tipo_producto" class="d-block d-lg-none">
  <div
    *ngIf="refresh2"
    class="w-100"
    style="min-height: 350px; border: 1px solid #005db9; border-radius: 20px"
  >
    <div
      class="col-12 d-flex justify-content-center align-items-center"
      style="min-height: 320px"
    >
      <i
        class="fak fa-implementos fa-bounce"
        style="font-size: 78px; color: #0063b9"
      ></i>
    </div>
  </div>
  <div
    *ngIf="!refresh2"
    class="products-view__list products-list"
    data-layout="grid-5-full"
    data-with-features="false"
  >
    <owl-carousel-o
      class="carouselImagen"
      [options]="carouselOptions3"
      appOwlPreventClick
      (translated)="getData($event)"
    >
      <ng-container
        *ngFor="let item of tipo_producto; let i = index"
        class="products-list__item"
      >
        <ng-template carouselSlide [id]="item.title">
          <img
            [src]="tipo_producto[i].image"
            class="img-fluid-product-mobile"
            alt="imagen"
          />
        </ng-template>
      </ng-container>
    </owl-carousel-o>
  </div>
</div>
<!-- End::imagen portada slideshow (xs, sm y md) -->

<!-- Start::listado productos slideshow (xs, sm y md) -->
<div *ngIf="producto_selecionado" class="d-block d-lg-none">
  <div
    class="products-view__list products-list"
    data-layout="grid-5-full"
    data-with-features="false"
  >
    <owl-carousel-o
      class="carouselProducto"
      [options]="carouselOptions"
      appOwlPreventClick
    >
      <ng-container
        *ngFor="let prod of producto_selecionado.articles"
        class="products-list__item"
      >
        <ng-template carouselSlide>
          <app-product-card-b2c-cms
            (mouseover)="over($event)"
            (mouseleave)="leave($event)"
            [product]="prod"
            [origen]="[ruta, '', prod.name.trim(), '']"
            [home]="true"
            [layout]="layout"
            [cartClass]="true"
          ></app-product-card-b2c-cms>
        </ng-template>
      </ng-container>
    </owl-carousel-o>
  </div>
</div>
<!-- End::listado productos slideshow (xs, sm y md) -->
